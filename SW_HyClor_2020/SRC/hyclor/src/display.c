/******************************************************************************
 * display.c 
 * 
 * Copyright(C), 2020-2030, SHENZHEN AIAQUA INTERNATIONAL PTY LIMITED
 * 
 * Description: 
 *     display function file
 * Modification History
 * --------------------
 * V1.00, 1 Apr 2020, written by Wingo Wan
 * --------------------
 ******************************************************************************/
#include "global.h"
#include "st7565r.h"
#include "ctrl.h"

const unsigned char Fontdata[]=
{
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0xF8,0x04,0xC6,0xC6,0xC6,0xC6,0x04,0xF8,0x7F,0x80,0xB6,0xB6,0xB6,0xB6,0x80,0x7F,//Battery Icon
0x00,0x00,0xFC,0xFE,0xFE,0xFC,0x00,0x00,0x30,0x78,0xCF,0x81,0x81,0xCF,0x78,0x30,//Temperrature Icon
0x00,0xC0,0xE0,0xF0,0x78,0x38,0x00,0xFE,0x03,0x0F,0x1F,0x3F,0x78,0x70,0xE0,0xE1,//Power Icon
0xFE,0x00,0x38,0x78,0xF0,0xE0,0xC0,0x00,0xE1,0xE0,0x70,0x78,0x3F,0x1F,0x0F,0x03,//Power Icon
0x80,0x80,0xE8,0xFC,0xF8,0x7C,0x3C,0x1F,0x01,0x01,0x37,0x3F,0x1F,0x3E,0x3C,0xF8,//Mode Icon
0x1F,0x3C,0x7C,0xF8,0xFC,0xE8,0x80,0x80,0xF8,0x3C,0x3E,0x1F,0x3F,0x37,0x01,0x01,//Mode Icon
0x00,0xC0,0xC0,0xC0,0xC0,0xC0,0xFE,0xFE,0x00,0x03,0x03,0x03,0x03,0x03,0x7F,0x7F,//Plus Icon
0xFE,0xFE,0xC0,0xC0,0xC0,0xC0,0xC0,0x00,0x7F,0x7F,0x03,0x03,0x03,0x03,0x03,0x00,
0x00,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0x00,0x03,0x03,0x03,0x03,0x03,0x03,0x03,//Minus Icon
0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0x00,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x00,
0x00,0x00,0x00,0x0C,0x12,0x12,0x0C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//Unit Icon
0x00,0x00,0x00,0x0E,0x00,0x07,0x80,0x03,0xC0,0x3F,0xC0,0x3F,0x80,0x03,0x00,0x07,
0x00,0x80,0xC0,0x40,0x40,0x40,0xC0,0x80,0x00,0x2F,0x3F,0x30,0x00,0x30,0x3F,0x2F,//Ohm Font

0x00,0x00,0xFE,0x3F,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,
0x00,0x00,0xFE,0x3F,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,
0x00,0x00,0xFE,0x3F,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,
0x00,0x00,0xFE,0x3F,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,
0x00,0x00,0xFE,0x3F,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,
0x00,0x00,0xFE,0x3F,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,
0x00,0x00,0xFE,0x3F,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,
0x00,0x00,0xFE,0x3F,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,
0x00,0x00,0xFE,0x3F,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,
0x00,0x00,0xFE,0x3F,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,
0x00,0x00,0xFE,0x3F,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,
0x00,0x00,0xFE,0x3F,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,
0x00,0x00,0xFE,0x3F,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,
0x00,0x00,0xFE,0x3F,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,0x02,0x20,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//0x19
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//0x20

0x00,0x00,0x00,0xFE,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x33,0x33,0x30,0x00,0x00,//!1

0x00,0x04,0x07,0x03,0x05,0x07,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//"2

0x20,0xE0,0xFE,0x3E,0xE0,0xFE,0x3E,0x20,0x04,0x7F,0x7F,0x04,0x7F,0x7F,0x04,0x00,//#3

0x18,0x3C,0x66,0xFF,0xFF,0x86,0x1C,0x18,0x0C,0x1C,0x30,0x7F,0x7F,0x31,0x1F,0x0E,//$4

0x1C,0x3E,0x22,0xBE,0xFC,0x78,0x1E,0x06,0x30,0x3C,0x0F,0x1F,0x3E,0x22,0x3E,0x1C,//%5

0x00,0x3C,0xFE,0xC2,0x7E,0x3C,0x00,0x00,0x1E,0x3F,0x21,0x33,0x1F,0x1F,0x33,0x20,//&6

0x00,0x00,0x0B,0x0F,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//'7

0x00,0x00,0xF0,0xFC,0x0E,0x03,0x01,0x00,0x00,0x00,0x07,0x1F,0x38,0x60,0x40,0x00,//(8

0x00,0x01,0x03,0x0E,0xFC,0xF0,0x00,0x00,0x00,0x40,0x60,0x38,0x1F,0x07,0x00,0x00,//)9

0x10,0x30,0x60,0xF8,0xF8,0x60,0x30,0x10,0x04,0x06,0x03,0x0F,0x0F,0x03,0x06,0x04,//*10

0x80,0x80,0x80,0xF0,0xF0,0x80,0x80,0x80,0x00,0x00,0x00,0x07,0x07,0x00,0x00,0x00,//+11

0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x58,0x78,0x38,0x00,0x00,0x00,//,12

0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//-13

0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,0x00,//.14

0x00,0x00,0x00,0x80,0xE0,0x78,0x1E,0x06,0x30,0x3C,0x0F,0x03,0x00,0x00,0x00,0x00,///15

0xF8,0xFC,0x06,0x02,0x06,0xFC,0xF8,0x00,0x0F,0x1F,0x30,0x20,0x30,0x1F,0x0F,0x00,//016

0x00,0x04,0x04,0xFE,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x3F,0x00,0x00,0x00,//117

0x18,0x1C,0x06,0x02,0xC6,0xFC,0x38,0x00,0x30,0x38,0x2E,0x27,0x21,0x20,0x20,0x00,//218

0x18,0x1C,0x86,0x82,0xC6,0x7C,0x38,0x00,0x0C,0x1C,0x30,0x20,0x31,0x1F,0x0E,0x00,//319

0x00,0x80,0xE0,0x78,0xFE,0xFE,0x00,0x00,0x06,0x07,0x05,0x04,0x3F,0x3F,0x04,0x00,//420

0xFE,0xFE,0x62,0x22,0x62,0xC2,0x82,0x00,0x08,0x18,0x30,0x20,0x30,0x1F,0x0F,0x00,//521

0xF8,0xFC,0xC6,0x42,0xC6,0x9C,0x18,0x00,0x0F,0x1F,0x30,0x20,0x30,0x1F,0x0F,0x00,//622

0x02,0x02,0x02,0x82,0xF2,0x7E,0x0E,0x00,0x00,0x00,0x3C,0x3F,0x03,0x00,0x00,0x00,//723

0x38,0x7C,0xC6,0x82,0xC6,0x7C,0x38,0x00,0x0E,0x1F,0x31,0x20,0x31,0x1F,0x0E,0x00,//824

0x78,0xFC,0x86,0x02,0x86,0xFC,0xF8,0x00,0x0C,0x1C,0x31,0x21,0x31,0x1F,0x0F,0x00,//925

0x00,0x00,0x60,0x60,0x60,0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x18,0x00,0x00,0x00,//:26

0x00,0x00,0x60,0x60,0x60,0x00,0x00,0x00,0x00,0x00,0x58,0x78,0x38,0x00,0x00,0x00,//;27

0x80,0xC0,0x60,0x30,0x18,0x0C,0x04,0x00,0x00,0x01,0x03,0x06,0x0C,0x18,0x10,0x00,//<28

0x00,0x20,0x20,0x20,0x20,0x20,0x20,0x00,0x00,0x02,0x02,0x02,0x02,0x02,0x02,0x00,//=29

0x04,0x0C,0x18,0x30,0x60,0xC0,0x80,0x00,0x10,0x18,0x0C,0x06,0x03,0x01,0x00,0x00,//>30

0x18,0x1C,0x06,0x82,0xC6,0x7C,0x38,0x00,0x00,0x00,0x33,0x33,0x30,0x00,0x00,0x00,//?31

0xF8,0xFC,0xE6,0xF2,0xF2,0xF6,0xFC,0xF8,0x0F,0x1F,0x33,0x27,0x27,0x27,0x37,0x13,//@32

0x00,0x80,0xF8,0x7E,0x7E,0xF8,0x80,0x00,0x38,0x3F,0x07,0x04,0x04,0x07,0x3F,0x38,//A0

0xFE,0xFE,0x82,0x82,0x82,0xC6,0x7C,0x38,0x3F,0x3F,0x20,0x20,0x20,0x31,0x1F,0x0E,//B1

0xF8,0xFC,0x06,0x02,0x02,0x06,0x1C,0x18,0x0F,0x1F,0x30,0x20,0x20,0x30,0x1C,0x0C,//C2

0xFE,0xFE,0x02,0x02,0x02,0x06,0xFC,0xF8,0x3F,0x3F,0x20,0x20,0x20,0x30,0x1F,0x0F,//D3

0xFE,0xFE,0x82,0x82,0x82,0x82,0x82,0x02,0x3F,0x3F,0x20,0x20,0x20,0x20,0x20,0x20,//E4

0xFE,0xFE,0x82,0x82,0x82,0x82,0x82,0x02,0x3F,0x3F,0x00,0x00,0x00,0x00,0x00,0x00,//F5

0xF8,0xFC,0x06,0x02,0x02,0x06,0x1C,0x18,0x0F,0x1F,0x30,0x20,0x21,0x31,0x3F,0x3F,//G6

0xFE,0xFE,0x80,0x80,0x80,0x80,0xFE,0xFE,0x3F,0x3F,0x00,0x00,0x00,0x00,0x3F,0x3F,//H7

0x00,0x00,0x02,0xFE,0xFE,0x02,0x00,0x00,0x00,0x00,0x20,0x3F,0x3F,0x20,0x00,0x00,//I8

0x00,0x00,0x00,0x00,0x00,0xFE,0xFE,0x00,0x0C,0x1C,0x30,0x20,0x30,0x1F,0x0F,0x00,//J9

0xFE,0xFE,0x80,0xE0,0x70,0x1C,0x0E,0x02,0x3F,0x3F,0x01,0x01,0x07,0x0E,0x38,0x30,//K10

0xFE,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x3F,0x20,0x20,0x20,0x20,0x20,0x20,//L11

0xFE,0xFE,0xF8,0x80,0x80,0xF8,0xFE,0xFE,0x3F,0x3F,0x07,0x3F,0x3F,0x07,0x3F,0x3F,//M12

0xFE,0xFE,0x78,0xE0,0x80,0x00,0xFE,0xFE,0x3F,0x3F,0x00,0x01,0x07,0x1E,0x3F,0x3F,//N13

0xF8,0xFC,0x06,0x02,0x02,0x06,0xFC,0xF8,0x0F,0x1F,0x30,0x20,0x20,0x30,0x1F,0x0F,//O14

0xFE,0xFE,0x82,0x82,0x82,0xC6,0x7C,0x38,0x3F,0x3F,0x00,0x00,0x00,0x00,0x00,0x00,//P15

0xF8,0xFC,0x06,0x02,0x02,0x06,0xFC,0xF8,0x0F,0x1F,0x30,0x24,0x2C,0x38,0x3F,0x2F,//Q16

0xFE,0xFE,0x82,0x82,0x82,0xC6,0x7C,0x38,0x3F,0x3F,0x00,0x00,0x03,0x0F,0x3C,0x30,//R17

0x38,0x7C,0x46,0xC2,0x82,0x86,0x1C,0x18,0x0C,0x1C,0x30,0x20,0x20,0x31,0x1F,0x0E,//S18

0x02,0x02,0x02,0xFE,0xFE,0x02,0x02,0x02,0x00,0x00,0x00,0x3F,0x3F,0x00,0x00,0x00,//T19

0xFE,0xFE,0x00,0x00,0x00,0x00,0xFE,0xFE,0x0F,0x1F,0x30,0x20,0x20,0x30,0x1F,0x0F,//U20

0x0E,0xFE,0xF0,0x00,0x00,0xF0,0xFE,0x0E,0x00,0x00,0x07,0x3F,0x3F,0x07,0x00,0x00,//V21

0xFE,0xFE,0xE0,0xFE,0xFE,0xE0,0xFE,0xFE,0x01,0x3F,0x3F,0x01,0x01,0x3F,0x3F,0x01,//W22

0x06,0x1E,0x78,0xE0,0xE0,0x78,0x1E,0x06,0x30,0x3C,0x0F,0x03,0x03,0x0F,0x3C,0x30,//X23

0x06,0x1E,0x78,0xE0,0xE0,0x78,0x1E,0x06,0x00,0x00,0x00,0x3F,0x3F,0x00,0x00,0x00,//Y24

0x02,0x02,0x02,0x82,0xE2,0x7A,0x1E,0x06,0x30,0x3C,0x2F,0x23,0x20,0x20,0x20,0x20,//Z25

0x00,0xFF,0xFF,0x01,0x01,0x01,0x01,0x00,0x00,0x7F,0x7F,0x40,0x40,0x40,0x40,0x00,//[0

0x06,0x9E,0xF8,0xE0,0xE0,0xF8,0x9E,0x06,0x00,0x04,0x04,0x3F,0x3F,0x04,0x04,0x00,//\1

0x00,0x01,0x01,0x01,0x01,0xFF,0xFF,0x00,0x00,0x40,0x40,0x40,0x40,0x7F,0x7F,0x00,//]2

0x00,0x04,0x06,0x03,0x03,0x06,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//^3

0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,//_4

0x00,0x00,0x01,0x03,0x06,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//`5

0x80,0xC0,0x40,0x40,0x40,0xC0,0x80,0x00,0x18,0x3C,0x26,0x22,0x32,0x3F,0x3F,0x20,//a0

0xFE,0xFE,0xC0,0x40,0x40,0xC0,0x80,0x00,0x3F,0x3F,0x30,0x20,0x20,0x30,0x1F,0x0F,//b1

0x00,0x80,0xC0,0x40,0x40,0x40,0xC0,0x80,0x0F,0x1F,0x30,0x20,0x20,0x20,0x30,0x10,//c2

0x00,0x80,0xC0,0x40,0x40,0xC0,0xFE,0xFE,0x0F,0x1F,0x30,0x20,0x20,0x30,0x3F,0x3F,//d3

0x00,0x80,0xC0,0x40,0x40,0xC0,0x80,0x00,0x0F,0x1F,0x32,0x22,0x22,0x22,0x33,0x13,//e4

0x40,0x40,0xFC,0xFE,0x42,0x42,0x00,0x00,0x00,0x00,0x3F,0x3F,0x00,0x00,0x00,0x00,//f5

0x00,0x80,0xC0,0x40,0x40,0xC0,0xC0,0x40,0x30,0x7D,0x4F,0x4A,0x4A,0x4B,0x79,0x30,//g6

0xFE,0xFE,0xC0,0x40,0x40,0xC0,0x80,0x00,0x3F,0x3F,0x00,0x00,0x00,0x00,0x3F,0x3F,//h7

0x00,0x00,0x00,0xCC,0xCC,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x3F,0x00,0x00,0x00,//i8

0x00,0x00,0x00,0xCC,0xCC,0x00,0x00,0x00,0x00,0x40,0x40,0x7F,0x3F,0x00,0x00,0x00,//j9

0xFE,0xFE,0x00,0x00,0x80,0xC0,0x40,0x00,0x3F,0x3F,0x06,0x07,0x0D,0x18,0x30,0x20,//k10

0x00,0x00,0x00,0xFE,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x3F,0x00,0x00,0x00,//l11

0xC0,0xC0,0xC0,0xC0,0xC0,0x40,0xC0,0x80,0x3F,0x3F,0x00,0x3F,0x3F,0x00,0x3F,0x3F,//m12

0xC0,0xC0,0xC0,0x40,0x40,0xC0,0x80,0x00,0x3F,0x3F,0x00,0x00,0x00,0x00,0x3F,0x3F,//n13

0x00,0x80,0xC0,0x40,0x40,0xC0,0x80,0x00,0x0F,0x1F,0x30,0x20,0x20,0x30,0x1F,0x0F,//o14

0xC0,0xC0,0xC0,0x40,0x40,0xC0,0x80,0x00,0x7F,0x7F,0x18,0x10,0x10,0x18,0x0F,0x07,//p15

0x00,0x80,0xC0,0x40,0x40,0xC0,0xC0,0xC0,0x07,0x0F,0x18,0x10,0x10,0x18,0x7F,0x7F,//q16

0x00,0x00,0xC0,0xC0,0xC0,0x40,0x40,0x40,0x00,0x00,0x3F,0x3F,0x00,0x00,0x00,0x00,//r17

0x80,0xC0,0x40,0x40,0x40,0x40,0xC0,0x80,0x11,0x33,0x22,0x26,0x24,0x24,0x3C,0x18,//s18

0x40,0x40,0xFC,0xFC,0x40,0x40,0x00,0x00,0x00,0x00,0x1F,0x3F,0x20,0x20,0x00,0x00,//t19

0xC0,0xC0,0x00,0x00,0x00,0x00,0xC0,0xC0,0x0F,0x1F,0x30,0x20,0x20,0x30,0x3F,0x3F,//u20

0xC0,0xC0,0x00,0x00,0x00,0x00,0xC0,0xC0,0x00,0x03,0x0F,0x3C,0x3C,0x0F,0x03,0x00,//v21

0xC0,0xC0,0x00,0xC0,0xC0,0x00,0xC0,0xC0,0x07,0x3F,0x3E,0x07,0x07,0x3E,0x3F,0x07,//w22

0x40,0xC0,0x80,0x00,0x00,0x80,0xC0,0x40,0x20,0x30,0x19,0x0F,0x0F,0x19,0x30,0x20,//x23

0xC0,0xC0,0x00,0x00,0x00,0x00,0xC0,0xC0,0x40,0x43,0x6F,0x3C,0x1C,0x0F,0x03,0x00,//y24

0x40,0x40,0x40,0x40,0x40,0xC0,0xC0,0x40,0x30,0x38,0x2C,0x26,0x23,0x21,0x20,0x20,//z25

0x00,0x00,0x80,0xFF,0x7F,0x01,0x01,0x00,0x00,0x00,0x00,0x7F,0x7F,0x40,0x40,0x00,//{0

0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,//|1

0x00,0x01,0x01,0x7F,0xFF,0x80,0x00,0x00,0x00,0x40,0x40,0x7F,0x7F,0x00,0x00,0x00,//}2

0x02,0x03,0x01,0x03,0x02,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//~3

0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00 // 4
};

unsigned char ucFontAddr=0;
void DisplayACSIIString(unsigned char y,unsigned char x,unsigned char *text)
{
	unsigned char i= 0,j;
	unsigned char ucFontBuf[16];
	while((text[i]>0x00))
	{
		if((text[i]>=0x01) &&(text[i]<=0x7e))	
		{
			ucFontAddr = text[i]*16;
			for(j = 0; j < 16; j++ )
	     		ucFontBuf[j] =Fontdata[ucFontAddr +j];
			LCD_Display8x16Graphic(y,x,ucFontBuf);
			i+=1;
			x+=8;
		}
		else
		{
			i++;
		}
	}
}

void LCDInitialize(void)
{
	LCD_Initialize();
	LCD_ClearScreen();
}

void LCDDisplayClear(void)
{
	LCD_ClearScreen();
}

void LCDDisplayControl(unsigned char ucOnOff)
{
	LCD_DisplayControl(ucOnOff);
}

void LCDDisplayString(unsigned char ucRow,unsigned char ucCol,unsigned char *cStr)
{
	unsigned char ucDispRow,ucDispCol;
	ucDispRow = ucRow*2-1;
	if(ucCol>1)
		ucDispCol = (ucCol-1)*8+1;
	else
		ucDispCol = ucCol;
	DisplayACSIIString(ucDispRow,ucDispCol,cStr);

}

void LCDDisplayNumber(unsigned char ucRow,unsigned char ucCol,unsigned char ucDispLenth,unsigned char bAlign,unsigned int Num)
{
	unsigned char ucDat[5];
	unsigned char ucDispDat[6];
	unsigned char i,j;
	unsigned char ucNumLenth;
	unsigned int RefNum,TempNum;
	unsigned char ucDispRow,ucDispCol;
	ucDispRow = ucRow*2-1;
	if(ucCol>1)
		ucDispCol = (ucCol-1)*8+1;
	else
		ucDispCol = ucCol;
	ucDispDat[ucDispLenth]= 0;
	RefNum = 10000;
	if(Num != 0)
	{
		for(i=5;i>0;i--)
		{
			if(Num/RefNum)
			{
				ucNumLenth = i;
				break;
			}
			RefNum = RefNum/10;
		}
		TempNum =Num;
		j=0;
		//RefNum = 10000;
		for(i=ucNumLenth;i>0;i--)
		{
			ucDat[j]= TempNum/RefNum+0x30;
			TempNum = TempNum%RefNum;
			RefNum = RefNum/10;
			j++;
		}			
	}
	else
	{
		ucDat[0]= 0x30;
		ucNumLenth = 1;
	}
	for(i=0;i<ucDispLenth;i++)
	{
		ucDispDat[i] =' ';
	}
	DisplayACSIIString(ucDispRow,ucDispCol,ucDispDat);
	if(bAlign == _RIGHT_ALIGN)
	{
		j=ucNumLenth;
		for(i=ucDispLenth;i>0;i--)
		{
			if(j>0)
			{
				j--;
				ucDispDat[i-1] =ucDat[j];
			}
			else
			{
				ucDispDat[i-1] =' ';
			}
		}
	
	}
	else if(bAlign == _CENTER_ALIGN)
	{
		if(ucNumLenth>=ucDispLenth)
		{
			for(i=0;i<ucDispLenth;i++)
			{
				ucDispDat[i] =ucDat[i]; 	
			}			
		}
		else
		{
			j = (ucDispLenth-ucNumLenth)/2;
			if(j == 0)
				j++;
			for(i=0;i<j;i++)
			{
				ucDispDat[i] =' '; 	
			}
			for(i=j;i<(ucNumLenth+j);i++)
			{
				ucDispDat[i] =ucDat[i-j]; 	
			}
			for(i=(ucNumLenth+j);i<ucDispLenth;i++)
			{
				ucDispDat[i] =' '; 	
			}
			
				
		}
	}
	else
	{
		for(i=0;i<ucDispLenth;i++)
		{
			ucDispDat[i] =ucDat[i];		
			if(i > (ucNumLenth-1))
				ucDispDat[i] =' ';
		}
	}
	DisplayACSIIString(ucDispRow,ucDispCol,ucDispDat);
}

void LCDDisplayNumberWithZero(unsigned char ucRow,unsigned char ucCol,unsigned char ucDispLenth,unsigned int Num)
{
	unsigned char ucDat[5];
	unsigned char ucDispDat[6];
	unsigned char i,j;
	unsigned char ucNumLenth;
	unsigned int RefNum,TempNum;
	unsigned char ucDispRow,ucDispCol;
	ucDispRow = ucRow*2-1;
	if(ucCol>1)
		ucDispCol = (ucCol-1)*8+1;
	else
		ucDispCol = ucCol;
	ucDispDat[ucDispLenth]= 0;
	RefNum = 10000;
	if(Num != 0)
	{
		for(i=5;i>0;i--)
		{
			if(Num/RefNum)
			{
				ucNumLenth = i;
				break;
			}
			RefNum = RefNum/10;
		}
		TempNum =Num;
		j=0;
		//RefNum = 10000;
		for(i=ucNumLenth;i>0;i--)
		{
			ucDat[j]= TempNum/RefNum+0x30;
			TempNum = TempNum%RefNum;
			RefNum = RefNum/10;
			j++;
		}
	}
	else
	{
		ucDat[0]= 0x30;
		ucNumLenth = 1;
	}
	for(i=0;i<ucDispLenth;i++)
	{
		ucDispDat[i] =' ';
	}
	DisplayACSIIString(ucDispRow,ucDispCol,ucDispDat);
	
	j=ucNumLenth;
	for(i=ucDispLenth;i>0;i--)
	{
		if(j>0)
		{
			j--;
			ucDispDat[i-1] =ucDat[j];
		}
		else
			ucDispDat[i-1] ='0';
	}	

	DisplayACSIIString(ucDispRow,ucDispCol,ucDispDat);
}

void LCDDisplaySpecialNumber(unsigned char ucRow,unsigned char ucCol,unsigned char ucDispLenth,int Num)
{
	unsigned char ucDat[5];
	unsigned char ucDispDat[6];
	unsigned char i,j;
	unsigned char ucNumLenth;
	unsigned int RefNum,TempNum;
	unsigned char ucDispRow,ucDispCol;	
	unsigned char bSignedNum = 0;
	ucDispRow = ucRow*2-1;
	if(ucCol>1)
		ucDispCol = (ucCol-1)*8+1;
	else
		ucDispCol = ucCol;
	ucDispDat[ucDispLenth]= 0;
	RefNum = 10000;
	if(Num != 0)
	{
		if(Num < 0 )
		{
			bSignedNum = 1;
			Num = 0- Num;
		}
			
		for(i=5;i>0;i--)
		{
			if(Num/RefNum)
			{
				ucNumLenth = i;
				break;
			}
			RefNum = RefNum/10;
		}
		TempNum =Num;
		j=0;
		//RefNum = 10000;
		for(i=ucNumLenth;i>0;i--)
		{
			ucDat[j]= TempNum/RefNum+0x30;
			TempNum = TempNum%RefNum;
			RefNum = RefNum/10;
			j++;
		}
	}
	else
	{
		ucDat[0]= 0x30;
		ucNumLenth = 1;
	}
	for(i=0;i<ucDispLenth;i++)
	{
		ucDispDat[i] =' ';
	}
	DisplayACSIIString(ucDispRow,ucDispCol,ucDispDat);
	
	j=ucNumLenth;
	for(i=ucDispLenth;i>0;i--)
	{
		if(j>0)
		{
			j--;
			ucDispDat[i-1] =ucDat[j];
		}
		else
		{			
			break;
			//ucDispDat[i-1] =' ';
		}
	}
	if(bSignedNum)				
		ucDispDat[i-1] ='-';			
	else
	{
		if(Num != 0)
			ucDispDat[i-1] ='+';
	}

	DisplayACSIIString(ucDispRow,ucDispCol,ucDispDat);
}

void LCDInspection(void)
{
	LCD_Initialize();
	LCD_ClearScreen();
	LCD_DisplayLattice(0xFF,0xFF);
    Delay_ms(1000);
    LCD_DisplayLattice(0x55,0x55);
    Delay_ms(1000);
    LCD_DisplayLattice(0x00,0xff);
    Delay_ms(1000);
    LCD_DisplayLattice(0x55,0xaa);
    Delay_ms(1000);	
	LCDDisplayString(1,1,"     AIAQUA     ");
	LCDDisplayString(2,1,"Hy-Clor   V1.00 ");
	LCDDisplayNumber(2,12,1,_RIGHT_ALIGN,2);
	LCDDisplayNumberWithZero(2,14,2,3);	
	LCDDisplaySpecialNumber(3,3,3,-100);
}

